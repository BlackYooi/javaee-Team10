<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>DEPART_LIST</title>
    <link rel="stylesheet" type="text/css" href="/asserts/bootstrap-3.3.7-dist/css/bootstrap.css"/>
    <link rel="stylesheet" type="text/css" href="/asserts/bootstrap-3.3.7-dist/css/bootstrap-theme.css"/>
    <script src="/asserts/js/vue.js" type="text/javascript"></script>
</head>
<body>

<!--
对应pojo
private String id;
private String departmentName;
private String leader;
-->

<!--这个容器装了整个网页-->
<div id="depart_list" class="container-fluid">

    <div class="panel panel-default">
        <div class="panel-heading">
            <label class="panel-title">提示信息：</label>
            <label class="panel-title">{{msg}}</label>
            <button type="button" class="btn btn-default" v-on:click="addDepart" style="float: right"
                    v-if="allowAddBtn">添加部门
            </button>
        </div>
    </div>

    <!--添加面板-->
    <div v-if="adding">
        <div class="panel-heading">
            <label class="panel-title">添加</label>
            <button type="button" class="btn btn-default" v-on:click="addComf()" style="float: right">提交</button>
            <button type="button" class="btn btn-default" v-on:click="addGiveUp()" style="float: right">取消</button>
        </div>
        <div class="panel-body">
            <form class="form-horizontal" role="form">
                <div class="form-group">
                    <label class="col-sm-2 control-label">请输入部门名</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" style="width: 20%" placeholder="请输入部门名"
                               v-model="depart.departmentName">
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">请输入领导名</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" style="width: 20%" placeholder="请输入领导名"
                               v-model="depart.leader">
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!--修改面板-->
    <div v-if="edting">
        <div class="panel-heading">
            <label class="panel-title">修改</label>
            <button type="button" class="btn btn-default" v-on:click="edtComf()" style="float: right">提交</button>
        </div>
        <div class="panel-body">
            <form class="form-horizontal" role="form">
                <div class="form-group">
                    <label class="col-sm-2 control-label">请输入部门名</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" style="width: 20%" placeholder="请输入部门名"
                               v-model="depart.departmentName">
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">请输入领导名</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" style="width: 20%" placeholder="请输入领导名"
                               v-model="depart.leader">
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!--列表-->
    <table class="table table-striped table-bordered templatemo-user-table" style="margin-left: 0;" v-if="!outListing">
        <thead>
        <tr>
            <th>id： 共有{{totalDeparts}}个部门</th>
            <th>departmentName</th>
            <th>Leader</th>
            <th>操作</th>
        </tr>
        </thead>
        <tbody id="allEmp" style="width: 100%">
        <tr v-for="depart in departs">
            <th>{{depart.id}}</th>
            <th>{{depart.departmentName}}</th>
            <th>{{depart.leader}}</th>
            <th>
                <button type="button" class="btn templatemo-edit-btn" v-on:click="edtDepart(depart)">编辑</button>
                <button type="button" class="btn templatemo-edit-btn" v-on:click="delDepart(depart.id)">删除</button>
            </th>
        </tr>
        </tbody>

        <!--分页功能就不做了，不考虑部门很多-->
        <!--<tfoot>
        <tr>
            <th colspan="XXX">
                <div class="btn-group btn-group-justified" style="width: 20%; margin: auto">
                    <div class="btn-group">
                        <button type="button" class="btn templatemo-edit-btn" v-on:click="clickLeftPage">&lt;&lt;</button>
                    </div>
                    <div class="btn-group">
                        <button type="button" class="btn templatemo-edit-btn">第{{getPage+1}}页 共{{totalPage}}页</button>
                    </div>
                    <div class="btn-group">
                        <button type="button" class="btn templatemo-edit-btn" v-on:click="clickRightPage">&gt;&gt;</button>
                    </div>
                </div>
            </th>
        </tr>
        </tfoot>-->

    </table>

</div>


</body>
<script src="/asserts/js/axios.js" type="text/javascript"></script>
<script src="/asserts/js/vue-resource.js" type="text/javascript"></script>
<script src="/asserts/js/min.js" type="text/javascript"></script>
<script src="/asserts/bootstrap-3.3.7-dist/js/bootstrap.js" type="text/javascript"></script>
<script src="/asserts/js/depart.list.js"></script>
</html>